{"ast":null,"code":"import _objectSpread from\"/home/aditya/Documents/github/bootcamp/ReactJS/web-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{FIND_STOCK_REQUEST,FIND_STOCK_SUCCESS,FIND_STOCK_FAILURE,FIND_STOCKS_REQUEST,FIND_STOCKS_SUCCESS,FIND_STOCKS_FAILURE,DELETE_STOCK_REQUEST,DELETE_STOCK_SUCCESS,DELETE_STOCK_FAILURE,SAVE_STOCK_FAILURE,SAVE_STOCK_REQUEST,SAVE_STOCK_SUCCESS,SUMMARY_STOCK_FAILURE,SUMMARY_STOCK_REQUEST,SUMMARY_STOCK_SUCCESS}from\"./constants\";import{instanceAxios}from\"../utils/apiUtil\";function sleep(delay,value){return new Promise(function(resolve){setTimeout(resolve,delay,value);});}export var deletedStockById=function deletedStockById(id){return function(dispatch){dispatch({type:DELETE_STOCK_REQUEST});instanceAxios.delete(\"stocks/\".concat(id)).then(function(data){return sleep(500,data);}).then(function(data){return data;}).then(function(data){dispatch(deletedSuccess(data));}).catch(function(error){dispatch(deletedStockFailure(error));});};};export var saveStock=function saveStock(_ref){var id=_ref.id,item=_ref.item,quantity=_ref.quantity,unit=_ref.unit;return function(dispatch){dispatch({type:SAVE_STOCK_REQUEST});var request=id?instanceAxios.put(\"stocks/\".concat(id),{id:id,item:{id:item.id},quantity:quantity,unit:{id:unit.id}}):instanceAxios.post(\"stocks\",{item:{id:item.id},quantity:quantity,unit:{id:unit.id}});request.then(function(data){return data;}).then(function(data){dispatch(saveSuccess(data));}).catch(function(error){dispatch(saveFailure(error));});};};export var findStocksById=function findStocksById(id){return function(dispatch){dispatch({type:FIND_STOCK_REQUEST});instanceAxios.get(\"stocks/\".concat(id)).then(function(data){return data;}).then(function(data){dispatch(findByIdSucces(data));}).catch(function(error){dispatch(findByIdFailure(error));});};};export var findAll=function findAll(){var _ref2=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},search=_ref2.search,_ref2$sort=_ref2.sort,sort=_ref2$sort===void 0?\"asc\":_ref2$sort,_ref2$page=_ref2.page,page=_ref2$page===void 0?0:_ref2$page,_ref2$size=_ref2.size,size=_ref2$size===void 0?10:_ref2$size;return function(dispatch){dispatch({type:FIND_STOCKS_REQUEST});instanceAxios.get(\"stocks\",{params:_objectSpread({},search,{sort:sort,page:page,size:size})}).then(function(data){return sleep(2000,data);}).then(function(data){return data;}).then(function(data){dispatch(findAllSucces(data));}).catch(function(error){dispatch(findAllFailure(error));});};};export var showSummary=function showSummary(){var _ref3=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},search=_ref3.search,_ref3$sort=_ref3.sort,sort=_ref3$sort===void 0?\"asc\":_ref3$sort,_ref3$page=_ref3.page,page=_ref3$page===void 0?0:_ref3$page,_ref3$size=_ref3.size,size=_ref3$size===void 0?10:_ref3$size;return function(dispatch){dispatch({type:SUMMARY_STOCK_REQUEST});instanceAxios.get(\"stocks/summary\",{params:_objectSpread({},search,{sort:sort,page:page,size:size})}).then(function(data){return data;}).then(function(data){dispatch(showSummarySucces(data));}).catch(function(error){dispatch(showSummaryFailure(error));});};};function findByIdSucces(data){return{type:FIND_STOCK_SUCCESS,data:data};}function findByIdFailure(error){return{type:FIND_STOCK_FAILURE,error:error};}function findAllSucces(data){return{type:FIND_STOCKS_SUCCESS,data:data};}function findAllFailure(error){return{type:FIND_STOCKS_FAILURE,error:error};}function showSummarySucces(data){return{type:SUMMARY_STOCK_SUCCESS,data:data};}function showSummaryFailure(error){return{type:SUMMARY_STOCK_FAILURE,error:error};}function deletedSuccess(data){return{type:DELETE_STOCK_SUCCESS,data:data};}function deletedStockFailure(error){return{type:DELETE_STOCK_FAILURE,error:error};}function saveFailure(error){return{type:SAVE_STOCK_FAILURE,error:error};}function saveSuccess(data){return{type:SAVE_STOCK_SUCCESS,data:data};}","map":{"version":3,"sources":["/home/aditya/Documents/github/bootcamp/ReactJS/web-client/src/action/stocks.js"],"names":["FIND_STOCK_REQUEST","FIND_STOCK_SUCCESS","FIND_STOCK_FAILURE","FIND_STOCKS_REQUEST","FIND_STOCKS_SUCCESS","FIND_STOCKS_FAILURE","DELETE_STOCK_REQUEST","DELETE_STOCK_SUCCESS","DELETE_STOCK_FAILURE","SAVE_STOCK_FAILURE","SAVE_STOCK_REQUEST","SAVE_STOCK_SUCCESS","SUMMARY_STOCK_FAILURE","SUMMARY_STOCK_REQUEST","SUMMARY_STOCK_SUCCESS","instanceAxios","sleep","delay","value","Promise","resolve","setTimeout","deletedStockById","id","dispatch","type","delete","then","data","deletedSuccess","catch","error","deletedStockFailure","saveStock","item","quantity","unit","request","put","post","saveSuccess","saveFailure","findStocksById","get","findByIdSucces","findByIdFailure","findAll","search","sort","page","size","params","findAllSucces","findAllFailure","showSummary","showSummarySucces","showSummaryFailure"],"mappings":"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","sourcesContent":["import {\n  FIND_STOCK_REQUEST,\n  FIND_STOCK_SUCCESS,\n  FIND_STOCK_FAILURE,\n  FIND_STOCKS_REQUEST,\n  FIND_STOCKS_SUCCESS,\n  FIND_STOCKS_FAILURE,\n  DELETE_STOCK_REQUEST,\n  DELETE_STOCK_SUCCESS,\n  DELETE_STOCK_FAILURE,\n  SAVE_STOCK_FAILURE,\n  SAVE_STOCK_REQUEST,\n  SAVE_STOCK_SUCCESS,\n  SUMMARY_STOCK_FAILURE,\n  SUMMARY_STOCK_REQUEST,\n  SUMMARY_STOCK_SUCCESS\n} from \"./constants\";\nimport { instanceAxios } from \"../utils/apiUtil\";\n\nfunction sleep(delay, value) {\n  return new Promise(function(resolve) {\n    setTimeout(resolve, delay, value);\n  });\n}\n\nexport const deletedStockById = id => dispatch => {\n  dispatch({ type: DELETE_STOCK_REQUEST });\n  instanceAxios\n    .delete(`stocks/${id}`)\n    .then(data => sleep(500, data))\n    .then(data => data)\n    .then(data => {\n      dispatch(deletedSuccess(data));\n    })\n    .catch(error => {\n      dispatch(deletedStockFailure(error));\n    });\n};\n\nexport const saveStock = ({ id, item, quantity, unit }) => dispatch => {\n  dispatch({ type: SAVE_STOCK_REQUEST });\n\n  const request = id\n    ? instanceAxios.put(`stocks/${id}`, {\n        id,\n        item: { id: item.id },\n        quantity,\n        unit: { id: unit.id }\n      })\n    : instanceAxios.post(`stocks`, {\n        item: { id: item.id },\n        quantity,\n        unit: { id: unit.id }\n      });\n  request\n    .then(data => data)\n    .then(data => {\n      dispatch(saveSuccess(data));\n    })\n    .catch(error => {\n      dispatch(saveFailure(error));\n    });\n};\n\nexport const findStocksById = id => dispatch => {\n  dispatch({ type: FIND_STOCK_REQUEST });\n  instanceAxios\n    .get(`stocks/${id}`)\n    .then(data => data)\n    .then(data => {\n      dispatch(findByIdSucces(data));\n    })\n    .catch(error => {\n      dispatch(findByIdFailure(error));\n    });\n};\n\nexport const findAll = ({\n  search,\n  sort = \"asc\",\n  page = 0,\n  size = 10\n} = {}) => dispatch => {\n  dispatch({ type: FIND_STOCKS_REQUEST });\n  instanceAxios\n    .get(`stocks`, {\n      params: { ...search, sort, page, size }\n    })\n    .then(data => sleep(2000, data))\n    .then(data => data)\n    .then(data => {\n      dispatch(findAllSucces(data));\n    })\n    .catch(error => {\n      dispatch(findAllFailure(error));\n    });\n};\n\nexport const showSummary = ({\n  search,\n  sort = \"asc\",\n  page = 0,\n  size = 10\n} = {}) => dispatch => {\n  dispatch({ type: SUMMARY_STOCK_REQUEST });\n  instanceAxios\n    .get(`stocks/summary`, {\n      params: { ...search, sort, page, size }\n    })\n    .then(data => data)\n    .then(data => {\n      dispatch(showSummarySucces(data));\n    })\n    .catch(error => {\n      dispatch(showSummaryFailure(error));\n    });\n};\n\nfunction findByIdSucces(data) {\n  return {\n    type: FIND_STOCK_SUCCESS,\n    data: data\n  };\n}\n\nfunction findByIdFailure(error) {\n  return {\n    type: FIND_STOCK_FAILURE,\n    error: error\n  };\n}\n\nfunction findAllSucces(data) {\n  return {\n    type: FIND_STOCKS_SUCCESS,\n    data: data\n  };\n}\n\nfunction findAllFailure(error) {\n  return {\n    type: FIND_STOCKS_FAILURE,\n    error: error\n  };\n}\n\nfunction showSummarySucces(data) {\n  return {\n    type: SUMMARY_STOCK_SUCCESS,\n    data: data\n  };\n}\n\nfunction showSummaryFailure(error) {\n  return {\n    type: SUMMARY_STOCK_FAILURE,\n    error: error\n  };\n}\n\nfunction deletedSuccess(data) {\n  return {\n    type: DELETE_STOCK_SUCCESS,\n    data: data\n  };\n}\n\nfunction deletedStockFailure(error) {\n  return {\n    type: DELETE_STOCK_FAILURE,\n    error: error\n  };\n}\n\nfunction saveFailure(error) {\n  return {\n    type: SAVE_STOCK_FAILURE,\n    error: error\n  };\n}\n\nfunction saveSuccess(data) {\n  return {\n    type: SAVE_STOCK_SUCCESS,\n    data: data\n  };\n}\n"]},"metadata":{},"sourceType":"module"}