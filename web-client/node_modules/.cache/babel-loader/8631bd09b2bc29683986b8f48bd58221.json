{"ast":null,"code":"import _defineProperty from\"/home/aditya/Documents/github/bootcamp/ReactJS/web-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/aditya/Documents/github/bootcamp/ReactJS/web-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/aditya/Documents/github/bootcamp/ReactJS/web-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/aditya/Documents/github/bootcamp/ReactJS/web-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/home/aditya/Documents/github/bootcamp/ReactJS/web-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/home/aditya/Documents/github/bootcamp/ReactJS/web-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import Header from\"../../../component/header\";import{TextField,withStyles,CircularProgress}from\"@material-ui/core\";import{findById,saveUnit}from\"../../../action/units\";import{connect}from\"react-redux\";import{Container}from\"semantic-ui-react\";import styles from\"./styles\";import Snackbar from\"@material-ui/core/Snackbar\";import Alert from\"@material-ui/lab/Alert\";import\"./Confirm.css\";export var UnitPage=/*#__PURE__*/function(_Component){_inherits(UnitPage,_Component);var _super=_createSuper(UnitPage);function UnitPage(props){var _this;_classCallCheck(this,UnitPage);_this=_super.call(this,props);_this.onBack=function(event){event.preventDefault();var history=_this.props.history;history.push(\"/units\");};_this.onChange=function(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;var form=_this.state.form;_this.setState({form:_objectSpread({},form,_defineProperty({},name,value))});};_this.onSubmit=function(event){event.preventDefault();_this.props.saveUnit(_this.state.form);console.log(_this.state);};var match=_this.props.match;_this.state={form:{id:match.params.id,name:\"\",description:\"\"},error:false,open:false};return _this;}_createClass(UnitPage,[{key:\"componentDidMount\",value:function componentDidMount(){var form=this.state.form;if(form.id){this.props.findById(form.id);}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){var _this$props=this.props,editData=_this$props.editData,data=_this$props.data,error=_this$props.error,editError=_this$props.editError,history=_this$props.history;if(prevProps.data!=data){this.setState({form:data});}else if(prevProps.editError!==editError){this.setState({error:editError});}else if(prevProps.error!==error){this.setState({error:error});}else if(editData&&prevProps.editData!==editData){history.goBack();}}},{key:\"render\",value:function render(){var _this2=this;var _this$props2=this.props,classes=_this$props2.classes,loading=_this$props2.loading,editError=_this$props2.editError;var _this$state=this.state,form=_this$state.form,error=_this$state.error;var errorData=(editError===null||editError===void 0?void 0:editError.data)||{};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Header,null,/*#__PURE__*/React.createElement(Container,null,!loading?/*#__PURE__*/React.createElement(\"form\",{noValidate:true,autoComplete:\"off\",onSubmit:this.onSubmit},form.id&&/*#__PURE__*/React.createElement(\"div\",{className:classes.formField},/*#__PURE__*/React.createElement(TextField,{id:\"id\",label:\"ID\",value:form===null||form===void 0?void 0:form.id,name:\"id\",variant:\"filled\",inputProps:{readOnly:true}})),/*#__PURE__*/React.createElement(\"div\",{className:classes.formField},/*#__PURE__*/React.createElement(TextField,{error:errorData.name,helperText:errorData.name?errorData.name[0]:null,id:\"name\",label:\"Name\",value:form===null||form===void 0?void 0:form.name,name:\"name\",variant:\"filled\",onChange:this.onChange,fullWidth:true})),/*#__PURE__*/React.createElement(\"div\",{className:classes.formField},/*#__PURE__*/React.createElement(TextField,{id:\"description\",label:\"Description\",value:form===null||form===void 0?void 0:form.description,name:\"description\",variant:\"filled\",onChange:this.onChange,fullWidth:true})),/*#__PURE__*/React.createElement(\"div\",{className:classes.buttonContainer},/*#__PURE__*/React.createElement(\"button\",{className:\"ui orange button\",onClick:this.onBack},/*#__PURE__*/React.createElement(\"i\",{class:\"reply all icon\"}),\"Back\"),/*#__PURE__*/React.createElement(\"button\",{className:\"ui orange button\",disabled:loading},/*#__PURE__*/React.createElement(\"i\",{className:\"save icon\"}),\"Save\"))):/*#__PURE__*/React.createElement(CircularProgress,null),/*#__PURE__*/React.createElement(Snackbar,{open:this.state.error,autoHideDuration:3000,onClose:function onClose(){return _this2.setState({error:false});}},/*#__PURE__*/React.createElement(Alert,{onClose:function onClose(){return _this2.setState({error:false});},elevation:6,variant:\"filled\",severity:\"error\"},error===null||error===void 0?void 0:error.message)))));}}]);return UnitPage;}(Component);var mapStateToProps=function mapStateToProps(state){return{data:state.findUnitById.data,loading:state.findUnitById.loading||state.saveUnit.loading,error:state.findUnitById.error,editData:state.saveUnit.data,editError:state.saveUnit.error};};var mapDispatchToProps={findById:findById,saveUnit:saveUnit};export default withStyles(styles,{withTheme:true})(connect(mapStateToProps,mapDispatchToProps)(UnitPage));","map":{"version":3,"sources":["/home/aditya/Documents/github/bootcamp/ReactJS/web-client/src/scenes/unit/detail/UnitPage.js"],"names":["React","Component","Header","TextField","withStyles","CircularProgress","findById","saveUnit","connect","Container","styles","Snackbar","Alert","UnitPage","props","onBack","event","preventDefault","history","push","onChange","target","name","value","form","state","setState","onSubmit","console","log","match","id","params","description","error","open","prevProps","prevState","editData","data","editError","goBack","classes","loading","errorData","formField","readOnly","buttonContainer","message","mapStateToProps","findUnitById","mapDispatchToProps","withTheme"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Header from \"../../../component/header\";\nimport { TextField, withStyles, CircularProgress } from \"@material-ui/core\";\nimport { findById, saveUnit } from \"../../../action/units\";\nimport { connect } from \"react-redux\";\nimport { Container } from \"semantic-ui-react\";\nimport styles from \"./styles\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport \"./Confirm.css\";\n\nexport class UnitPage extends Component {\n  constructor(props) {\n    super(props);\n    const { match } = this.props;\n    this.state = {\n      form: {\n        id: match.params.id,\n        name: \"\",\n        description: \"\"\n      },\n      error: false,\n      open: false\n    };\n  }\n\n  onBack = event => {\n    event.preventDefault();\n    const { history } = this.props;\n    history.push(\"/units\");\n  };\n\n  componentDidMount() {\n    const { form } = this.state;\n    if (form.id) {\n      this.props.findById(form.id);\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { editData, data, error, editError, history } = this.props;\n\n    if (prevProps.data != data) {\n      this.setState({ form: data });\n    } else if (prevProps.editError !== editError) {\n      this.setState({ error: editError });\n    } else if (prevProps.error !== error) {\n      this.setState({ error: error });\n    } else if (editData && prevProps.editData !== editData) {\n      history.goBack();\n    }\n  }\n\n  onChange = event => {\n    const { name, value } = event.target;\n    const { form } = this.state;\n    this.setState({ form: { ...form, [name]: value } });\n  };\n\n  onSubmit = event => {\n    event.preventDefault();\n    this.props.saveUnit(this.state.form);\n    console.log(this.state);\n  };\n\n  render() {\n    const { classes, loading, editError } = this.props;\n    const { form, error } = this.state;\n    const errorData = editError?.data || {};\n    return (\n      <div>\n        <Header>\n          <Container>\n            {!loading ? (\n              <form noValidate autoComplete=\"off\" onSubmit={this.onSubmit}>\n                {form.id && (\n                  <div className={classes.formField}>\n                    <TextField\n                      id=\"id\"\n                      label=\"ID\"\n                      value={form?.id}\n                      name=\"id\"\n                      variant=\"filled\"\n                      inputProps={{ readOnly: true }}\n                    />\n                  </div>\n                )}\n                <div className={classes.formField}>\n                  <TextField\n                    error={errorData.name}\n                    helperText={errorData.name ? errorData.name[0] : null}\n                    id=\"name\"\n                    label=\"Name\"\n                    value={form?.name}\n                    name=\"name\"\n                    variant=\"filled\"\n                    onChange={this.onChange}\n                    fullWidth\n                  />\n                </div>\n                <div className={classes.formField}>\n                  <TextField\n                    id=\"description\"\n                    label=\"Description\"\n                    value={form?.description}\n                    name=\"description\"\n                    variant=\"filled\"\n                    onChange={this.onChange}\n                    fullWidth\n                  />\n                </div>\n                <div className={classes.buttonContainer}>\n                  <button className=\"ui orange button\" onClick={this.onBack}>\n                    <i class=\"reply all icon\"></i>\n                    Back\n                  </button>\n                  <button className=\"ui orange button\" disabled={loading}>\n                    <i className=\"save icon\"></i>\n                    Save\n                  </button>\n                </div>\n              </form>\n            ) : (\n              <CircularProgress />\n            )}\n            <Snackbar\n              open={this.state.error}\n              autoHideDuration={3000}\n              onClose={() => this.setState({ error: false })}\n            >\n              <Alert\n                onClose={() => this.setState({ error: false })}\n                elevation={6}\n                variant=\"filled\"\n                severity=\"error\"\n              >\n                {error?.message}\n              </Alert>\n            </Snackbar>\n          </Container>\n        </Header>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  data: state.findUnitById.data,\n  loading: state.findUnitById.loading || state.saveUnit.loading,\n  error: state.findUnitById.error,\n  editData: state.saveUnit.data,\n  editError: state.saveUnit.error\n});\n\nconst mapDispatchToProps = {\n  findById,\n  saveUnit\n};\n\nexport default withStyles(styles, { withTheme: true })(\n  connect(mapStateToProps, mapDispatchToProps)(UnitPage)\n);\n"]},"metadata":{},"sourceType":"module"}