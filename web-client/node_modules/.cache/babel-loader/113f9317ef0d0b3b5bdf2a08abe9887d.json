{"ast":null,"code":"import _objectSpread from\"/home/aditya/Documents/github/bootcamp/ReactJS/web-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/aditya/Documents/github/bootcamp/ReactJS/web-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/aditya/Documents/github/bootcamp/ReactJS/web-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/home/aditya/Documents/github/bootcamp/ReactJS/web-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/home/aditya/Documents/github/bootcamp/ReactJS/web-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import Header from\"../../../component/header\";import MUIDataTable from\"mui-datatables\";import{YearSummary}from\"../../../action/transactions\";import{Container}from\"semantic-ui-react\";import{Link}from\"react-router-dom\";import{connect}from\"react-redux\";import{CircularProgress,withStyles}from\"@material-ui/core\";import styles from\"./styles\";var MonthSummary=/*#__PURE__*/function(_Component){_inherits(MonthSummary,_Component);var _super=_createSuper(MonthSummary);function MonthSummary(props){var _this;_classCallCheck(this,MonthSummary);_this=_super.call(this,props);_this.onBack=function(event){event.preventDefault();var history=_this.props.history;history.push(\"/transactions\");};_this.onReload=function(){_this.reload();};_this.reload=function(){_this.props.YearSummary(_this.state.table.search.year);};_this.onChangeRowsPerPage=function(numbersOfRow){var table=_this.state.table;_this.setState({table:_objectSpread({},table,{size:numbersOfRow})});};_this.onChangePage=function(currentPage){var table=_this.state.table;_this.setState({table:_objectSpread({},table,{search:{year:currentPage}})});};_this.onSearchChange=function(searchText){var table=_this.state.table;_this.setState({table:_objectSpread({},table,{search:{year:searchText}})});};_this.onColumnSortChange=function(changedColumn,direction){var table=_this.state.table;var sort=direction===\"descending\"?\"desc\":\"asc\";_this.setState({table:_objectSpread({},table,{sort:sort})});};_this.state={data:[],total:0,table:{sort:\"asc\",size:20,page:0,search:{year:2020}},error:null};return _this;}_createClass(MonthSummary,[{key:\"componentDidMount\",value:function componentDidMount(){this.reload();}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){var _this$props=this.props,error=_this$props.error,data=_this$props.data;if(prevProps.data!==data){this.setState({data:data===null||data===void 0?void 0:data.entries,total:data===null||data===void 0?void 0:data.total});}else if(error&&prevProps.error!==error){this.setState({error:error});}}},{key:\"render\",value:function render(){var _this$props2=this.props,classes=_this$props2.classes,loading=_this$props2.loading;var _this$state=this.state,data=_this$state.data,total=_this$state.total,error=_this$state.error,table=_this$state.table;var columns=[{name:\"entries.year\",label:\"Year\",options:{sort:false}},{name:\"amount\",label:\"Amount\",options:{sort:false}},{name:\"type\",label:\"Type\",options:{sort:false}}];var options={serverSide:true,page:table.page,filter:false,count:total,rowsPerPage:table.size,rowsPerPageOptions:[5,10,25,50,100],onChangeRowsPerPage:this.onChangeRowsPerPage,onChangePage:this.onChangePage,onSearchChange:this.onSearchChange,onColumnSortChange:this.onColumnSortChange,searchText:table.search.name,selectableRows:\"single\",textLabels:{body:{noMatch:loading?/*#__PURE__*/React.createElement(CircularProgress,null):\"Sorry, no matching records found\"}}};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Header,{error:error},/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(\"div\",{style:{boxSizing:\"content-box\"}},/*#__PURE__*/React.createElement(MUIDataTable,{error:error,title:\"Transaction Summary By Month\",data:!loading?data:[],columns:columns,options:options})),/*#__PURE__*/React.createElement(\"div\",{className:classes.buttonContainer},/*#__PURE__*/React.createElement(\"button\",{className:\"ui orange button\",onClick:this.onBack,disabled:loading},/*#__PURE__*/React.createElement(\"i\",{class:\"reply all icon\"}),\"Back\")))));}}]);return MonthSummary;}(Component);var mapStateToProps=function mapStateToProps(state){return{data:state.findSummaryByYear.data,loading:state.findSummaryByYear.loading,error:state.findSummaryByYear.error};};var mapDispatchToProps={YearSummary:YearSummary};export default withStyles(styles,{withTheme:true})(connect(mapStateToProps,mapDispatchToProps)(MonthSummary));","map":{"version":3,"sources":["/home/aditya/Documents/github/bootcamp/ReactJS/web-client/src/scenes/transaction/summary/MonthSummary.js"],"names":["React","Component","Header","MUIDataTable","YearSummary","Container","Link","connect","CircularProgress","withStyles","styles","MonthSummary","props","onBack","event","preventDefault","history","push","onReload","reload","state","table","search","year","onChangeRowsPerPage","numbersOfRow","setState","size","onChangePage","currentPage","onSearchChange","searchText","onColumnSortChange","changedColumn","direction","sort","data","total","page","error","prevProps","prevState","entries","classes","loading","columns","name","label","options","serverSide","filter","count","rowsPerPage","rowsPerPageOptions","selectableRows","textLabels","body","noMatch","boxSizing","buttonContainer","mapStateToProps","findSummaryByYear","mapDispatchToProps","withTheme"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Header from \"../../../component/header\";\nimport MUIDataTable from \"mui-datatables\";\nimport { YearSummary } from \"../../../action/transactions\";\nimport { Container } from \"semantic-ui-react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { CircularProgress, withStyles } from \"@material-ui/core\";\nimport styles from \"./styles\";\nclass MonthSummary extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      data: [],\n      total: 0,\n      table: {\n        sort: \"asc\",\n        size: 20,\n        page: 0,\n        search: {\n          year: 2020\n        }\n      },\n      error: null\n    };\n  }\n\n  onBack = event => {\n    event.preventDefault();\n    const { history } = this.props;\n    history.push(\"/transactions\");\n  };\n\n  onReload = () => {\n    this.reload();\n  };\n\n  reload = () => {\n    this.props.YearSummary(this.state.table.search.year);\n  };\n\n  componentDidMount() {\n    this.reload();\n  }\n\n  onChangeRowsPerPage = numbersOfRow => {\n    const { table } = this.state;\n    this.setState({ table: { ...table, size: numbersOfRow } });\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { error, data } = this.props;\n\n    if (prevProps.data !== data) {\n      this.setState({ data: data?.entries, total: data?.total });\n    } else if (error && prevProps.error !== error) {\n      this.setState({ error: error });\n    }\n  }\n\n  onChangePage = currentPage => {\n    const { table } = this.state;\n    this.setState({ table: { ...table, search: { year: currentPage } } });\n  };\n\n  onSearchChange = searchText => {\n    const { table } = this.state;\n    this.setState({ table: { ...table, search: { year: searchText } } });\n  };\n\n  onColumnSortChange = (changedColumn, direction) => {\n    const { table } = this.state;\n    const sort = direction === \"descending\" ? \"desc\" : \"asc\";\n    this.setState({ table: { ...table, sort } });\n  };\n\n  render() {\n    const { classes, loading } = this.props;\n    const { data, total, error, table } = this.state;\n\n    const columns = [\n      {\n        name: \"entries.year\",\n        label: \"Year\",\n        options: {\n          sort: false\n        }\n      },\n      {\n        name: \"amount\",\n        label: \"Amount\",\n        options: {\n          sort: false\n        }\n      },\n      {\n        name: \"type\",\n        label: \"Type\",\n        options: {\n          sort: false\n        }\n      }\n    ];\n\n    const options = {\n      serverSide: true,\n      page: table.page,\n      filter: false,\n      count: total,\n      rowsPerPage: table.size,\n      rowsPerPageOptions: [5, 10, 25, 50, 100],\n      onChangeRowsPerPage: this.onChangeRowsPerPage,\n      onChangePage: this.onChangePage,\n      onSearchChange: this.onSearchChange,\n      onColumnSortChange: this.onColumnSortChange,\n      searchText: table.search.name,\n      selectableRows: \"single\",\n      textLabels: {\n        body: {\n          noMatch: loading ? (\n            <CircularProgress />\n          ) : (\n            \"Sorry, no matching records found\"\n          )\n        }\n      }\n    };\n\n    return (\n      <div>\n        <Header error={error}>\n          <Container>\n            <div style={{ boxSizing: \"content-box\" }}>\n              <MUIDataTable\n                error={error}\n                title={\"Transaction Summary By Month\"}\n                data={!loading ? data : []}\n                columns={columns}\n                options={options}\n              />\n            </div>\n            <div className={classes.buttonContainer}>\n              <button\n                className=\"ui orange button\"\n                onClick={this.onBack}\n                disabled={loading}\n              >\n                <i class=\"reply all icon\"></i>Back\n              </button>\n            </div>\n          </Container>\n        </Header>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  data: state.findSummaryByYear.data,\n  loading: state.findSummaryByYear.loading,\n  error: state.findSummaryByYear.error\n});\n\nconst mapDispatchToProps = {\n  YearSummary\n};\n\nexport default withStyles(styles, { withTheme: true })(\n  connect(mapStateToProps, mapDispatchToProps)(MonthSummary)\n);\n"]},"metadata":{},"sourceType":"module"}