{"ast":null,"code":"import { FIND_STOCK_REQUEST, FIND_STOCK_SUCCESS, FIND_STOCK_FAILURE, FIND_STOCKS_REQUEST, FIND_STOCKS_SUCCESS, FIND_STOCKS_FAILURE, DELETE_STOCK_REQUEST, DELETE_STOCK_SUCCESS, DELETE_STOCK_FAILURE, SAVE_STOCK_FAILURE, SAVE_STOCK_REQUEST, SAVE_STOCK_SUCCESS } from \"./constants\";\nimport { instanceAxios } from \"../utils/apiUtil\";\n\nfunction sleep(delay, value) {\n  return new Promise(function (resolve) {\n    setTimeout(resolve, delay, value);\n  });\n}\n\nexport const deletedStockById = id => dispatch => {\n  dispatch({\n    type: DELETE_STOCK_REQUEST\n  });\n  instanceAxios.delete(`stocks/${id}`).then(data => sleep(500, data)).then(data => data).then(data => {\n    dispatch(deletedSuccess(data));\n  }).catch(error => {\n    dispatch(deletedStockFailure(error));\n  });\n};\nexport const saveStock = ({\n  id,\n  item,\n  quantity,\n  unit\n}) => dispatch => {\n  dispatch({\n    type: SAVE_STOCK_REQUEST\n  });\n  const request = id ? instanceAxios.put(`stocks/${id}`, {\n    id,\n    item: {\n      id: item.id\n    },\n    quantity,\n    unit: {\n      id: unit.id\n    }\n  }) : instanceAxios.post(`stocks`, {\n    item: {\n      id: item.id\n    },\n    quantity,\n    unit: {\n      id: unit.id\n    }\n  });\n  request.then(data => data).then(data => {\n    dispatch(saveSuccess(data));\n  }).catch(error => {\n    dispatch(saveFailure(error));\n  });\n};\nexport const findStocksById = id => dispatch => {\n  dispatch({\n    type: FIND_STOCK_REQUEST\n  });\n  instanceAxios.get(`stocks/${id}`).then(data => data).then(data => {\n    dispatch(findByIdSucces(data));\n  }).catch(error => {\n    dispatch(findByIdFailure(error));\n  });\n};\nexport const findAll = ({\n  search,\n  sort = \"asc\",\n  page = 0,\n  size = 10\n} = {}) => dispatch => {\n  dispatch({\n    type: FIND_STOCKS_REQUEST\n  });\n  instanceAxios.get(`stocks`, {\n    params: { ...search,\n      sort,\n      page,\n      size\n    }\n  }).then(data => sleep(2000, data)).then(data => data).then(data => {\n    dispatch(findAllSucces(data));\n  }).catch(error => {\n    dispatch(findAllFailure(error));\n  });\n};\n\nfunction findByIdSucces(data) {\n  return {\n    type: FIND_STOCK_SUCCESS,\n    data: data\n  };\n}\n\nfunction findByIdFailure(error) {\n  return {\n    type: FIND_STOCK_FAILURE,\n    error: error\n  };\n}\n\nfunction findAllSucces(data) {\n  return {\n    type: FIND_STOCKS_SUCCESS,\n    data: data\n  };\n}\n\nfunction findAllFailure(error) {\n  return {\n    type: FIND_STOCKS_FAILURE,\n    error: error\n  };\n}\n\nfunction deletedSuccess(data) {\n  return {\n    type: DELETE_STOCK_SUCCESS,\n    data: data\n  };\n}\n\nfunction deletedStockFailure(error) {\n  return {\n    type: DELETE_STOCK_FAILURE,\n    error: error\n  };\n}\n\nfunction saveFailure(error) {\n  return {\n    type: SAVE_STOCK_FAILURE,\n    error: error\n  };\n}\n\nfunction saveSuccess(data) {\n  return {\n    type: SAVE_STOCK_SUCCESS,\n    data: data\n  };\n}\n\nfunction addFailure(error) {\n  return {\n    type: ADD_STOCK_FAILURE,\n    error: error\n  };\n}\n\nfunction addSuccess(data) {\n  return {\n    type: ADD_STOCK_SUCCESS,\n    data: data\n  };\n}","map":{"version":3,"sources":["/home/aditya/Documents/github/bootcamp/ReactJS/web-client/src/action/stocks.js"],"names":["FIND_STOCK_REQUEST","FIND_STOCK_SUCCESS","FIND_STOCK_FAILURE","FIND_STOCKS_REQUEST","FIND_STOCKS_SUCCESS","FIND_STOCKS_FAILURE","DELETE_STOCK_REQUEST","DELETE_STOCK_SUCCESS","DELETE_STOCK_FAILURE","SAVE_STOCK_FAILURE","SAVE_STOCK_REQUEST","SAVE_STOCK_SUCCESS","instanceAxios","sleep","delay","value","Promise","resolve","setTimeout","deletedStockById","id","dispatch","type","delete","then","data","deletedSuccess","catch","error","deletedStockFailure","saveStock","item","quantity","unit","request","put","post","saveSuccess","saveFailure","findStocksById","get","findByIdSucces","findByIdFailure","findAll","search","sort","page","size","params","findAllSucces","findAllFailure","addFailure","ADD_STOCK_FAILURE","addSuccess","ADD_STOCK_SUCCESS"],"mappings":"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","sourcesContent":["import {\n  FIND_STOCK_REQUEST,\n  FIND_STOCK_SUCCESS,\n  FIND_STOCK_FAILURE,\n  FIND_STOCKS_REQUEST,\n  FIND_STOCKS_SUCCESS,\n  FIND_STOCKS_FAILURE,\n  DELETE_STOCK_REQUEST,\n  DELETE_STOCK_SUCCESS,\n  DELETE_STOCK_FAILURE,\n  SAVE_STOCK_FAILURE,\n  SAVE_STOCK_REQUEST,\n  SAVE_STOCK_SUCCESS\n} from \"./constants\";\nimport { instanceAxios } from \"../utils/apiUtil\";\n\nfunction sleep(delay, value) {\n  return new Promise(function(resolve) {\n    setTimeout(resolve, delay, value);\n  });\n}\n\nexport const deletedStockById = id => dispatch => {\n  dispatch({ type: DELETE_STOCK_REQUEST });\n  instanceAxios\n    .delete(`stocks/${id}`)\n    .then(data => sleep(500, data))\n    .then(data => data)\n    .then(data => {\n      dispatch(deletedSuccess(data));\n    })\n    .catch(error => {\n      dispatch(deletedStockFailure(error));\n    });\n};\n\nexport const saveStock = ({ id, item, quantity, unit }) => dispatch => {\n  dispatch({ type: SAVE_STOCK_REQUEST });\n\n  const request = id\n    ? instanceAxios.put(`stocks/${id}`, {\n        id,\n        item: { id: item.id },\n        quantity,\n        unit: { id: unit.id }\n      })\n    : instanceAxios.post(`stocks`, {\n        item: { id: item.id },\n        quantity,\n        unit: { id: unit.id }\n      });\n  request\n    .then(data => data)\n    .then(data => {\n      dispatch(saveSuccess(data));\n    })\n    .catch(error => {\n      dispatch(saveFailure(error));\n    });\n};\n\nexport const findStocksById = id => dispatch => {\n  dispatch({ type: FIND_STOCK_REQUEST });\n  instanceAxios\n    .get(`stocks/${id}`)\n    .then(data => data)\n    .then(data => {\n      dispatch(findByIdSucces(data));\n    })\n    .catch(error => {\n      dispatch(findByIdFailure(error));\n    });\n};\n\nexport const findAll = ({\n  search,\n  sort = \"asc\",\n  page = 0,\n  size = 10\n} = {}) => dispatch => {\n  dispatch({ type: FIND_STOCKS_REQUEST });\n  instanceAxios\n    .get(`stocks`, {\n      params: { ...search, sort, page, size }\n    })\n    .then(data => sleep(2000, data))\n    .then(data => data)\n    .then(data => {\n      dispatch(findAllSucces(data));\n    })\n    .catch(error => {\n      dispatch(findAllFailure(error));\n    });\n};\n\nfunction findByIdSucces(data) {\n  return {\n    type: FIND_STOCK_SUCCESS,\n    data: data\n  };\n}\n\nfunction findByIdFailure(error) {\n  return {\n    type: FIND_STOCK_FAILURE,\n    error: error\n  };\n}\nfunction findAllSucces(data) {\n  return {\n    type: FIND_STOCKS_SUCCESS,\n    data: data\n  };\n}\n\nfunction findAllFailure(error) {\n  return {\n    type: FIND_STOCKS_FAILURE,\n    error: error\n  };\n}\n\nfunction deletedSuccess(data) {\n  return {\n    type: DELETE_STOCK_SUCCESS,\n    data: data\n  };\n}\n\nfunction deletedStockFailure(error) {\n  return {\n    type: DELETE_STOCK_FAILURE,\n    error: error\n  };\n}\n\nfunction saveFailure(error) {\n  return {\n    type: SAVE_STOCK_FAILURE,\n    error: error\n  };\n}\n\nfunction saveSuccess(data) {\n  return {\n    type: SAVE_STOCK_SUCCESS,\n    data: data\n  };\n}\n\nfunction addFailure(error) {\n  return {\n    type: ADD_STOCK_FAILURE,\n    error: error\n  };\n}\n\nfunction addSuccess(data) {\n  return {\n    type: ADD_STOCK_SUCCESS,\n    data: data\n  };\n}\n"]},"metadata":{},"sourceType":"module"}