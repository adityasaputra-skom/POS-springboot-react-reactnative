{"ast":null,"code":"import _defineProperty from\"/home/aditya/Documents/github/bootcamp/ReactJS/web-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/aditya/Documents/github/bootcamp/ReactJS/web-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/aditya/Documents/github/bootcamp/ReactJS/web-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/aditya/Documents/github/bootcamp/ReactJS/web-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/home/aditya/Documents/github/bootcamp/ReactJS/web-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/home/aditya/Documents/github/bootcamp/ReactJS/web-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import Header from\"../../../component/header\";import{TextField,withStyles,CircularProgress}from\"@material-ui/core\";import{findById,saveTransactions}from\"../../../action/transactions\";import{connect}from\"react-redux\";import{Container}from\"semantic-ui-react\";import styles from\"./styles\";import Snackbar from\"@material-ui/core/Snackbar\";import Alert from\"@material-ui/lab/Alert\";import Autocomplete from\"@material-ui/lab/Autocomplete\";export var TransactionPage=/*#__PURE__*/function(_Component){_inherits(TransactionPage,_Component);var _super=_createSuper(TransactionPage);function TransactionPage(props){var _this;_classCallCheck(this,TransactionPage);_this=_super.call(this,props);_this.onBack=function(event){event.preventDefault();var history=_this.props.history;history.push(\"/transactions\");};_this.onChange=function(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;var form=_this.state.form;_this.setState({form:_objectSpread({},form,_defineProperty({},name,value))});};_this.onSubmit=function(event){event.preventDefault();_this.props.saveTransactions(_this.state.form);console.log(_this.state);};var match=_this.props.match;_this.state={form:{id:match.params.id,amount:\"\",description:\"\",type:\"\"},error:false};return _this;}_createClass(TransactionPage,[{key:\"componentDidMount\",value:function componentDidMount(){var form=this.state.form;if(form.id){this.props.findById(form.id);}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){var _this$props=this.props,saveData=_this$props.saveData,data=_this$props.data,error=_this$props.error,saveError=_this$props.saveError,history=_this$props.history;if(prevProps.data!=data){this.setState({form:data});}else if(prevProps.saveError!==saveError){this.setState({error:saveError});}else if(prevProps.error!==error){this.setState({error:error});}else if(saveData&&prevProps.saveData!==saveData){history.goBack();}}},{key:\"render\",value:function render(){var _this2=this;var _this$props2=this.props,classes=_this$props2.classes,loading=_this$props2.loading,saveError=_this$props2.saveError;var _this$state=this.state,form=_this$state.form,error=_this$state.error;var errorData=(saveError===null||saveError===void 0?void 0:saveError.data)||{};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Header,null,/*#__PURE__*/React.createElement(Container,null,!loading?/*#__PURE__*/React.createElement(\"form\",{noValidate:true,autoComplete:\"off\",onSubmit:this.onSubmit},form.id&&/*#__PURE__*/React.createElement(\"div\",{className:classes.formField},/*#__PURE__*/React.createElement(TextField,{id:\"id\",label:\"ID\",value:form===null||form===void 0?void 0:form.id,name:\"id\",variant:\"filled\",inputProps:{readOnly:true}})),/*#__PURE__*/React.createElement(\"div\",{className:classes.formField},/*#__PURE__*/React.createElement(TextField,{error:errorData.name,helperText:errorData.name?errorData.name[0]:null,id:\"amount\",label:\"Amount\",value:form===null||form===void 0?void 0:form.amount,name:\"amount\",variant:\"filled\",onChange:this.onChange,fullWidth:true})),/*#__PURE__*/React.createElement(\"div\",{className:classes.formField},/*#__PURE__*/React.createElement(TextField,{id:\"description\",label:\"Description\",value:form===null||form===void 0?void 0:form.description,name:\"description\",variant:\"filled\",onChange:this.onChange,fullWidth:true})),/*#__PURE__*/React.createElement(\"div\",{className:classes.formField},/*#__PURE__*/React.createElement(Autocomplete,{value:form.type,onChange:this.onChange,id:\"size-small-standard\",size:\"small\",fullWidth:true,options:options,getOptionLabel:function getOptionLabel(option){return option.title;},renderInput:function renderInput(params){return/*#__PURE__*/React.createElement(TextField,Object.assign({},params,{variant:\"standard\",label:form.type,placeholder:\"Choice Type\"}));}})),/*#__PURE__*/React.createElement(\"div\",{className:classes.buttonContainer},/*#__PURE__*/React.createElement(\"button\",{className:\"ui orange button\",onClick:this.onBack},/*#__PURE__*/React.createElement(\"i\",{class:\"reply all icon\"}),\"Back\"),/*#__PURE__*/React.createElement(\"button\",{className:\"ui orange button\",disabled:loading},/*#__PURE__*/React.createElement(\"i\",{className:\"save icon\"}),\"Save\"))):/*#__PURE__*/React.createElement(CircularProgress,null),/*#__PURE__*/React.createElement(Snackbar,{open:this.state.error,autoHideDuration:3000,onClose:function onClose(){return _this2.setState({error:false});}},/*#__PURE__*/React.createElement(Alert,{onClose:function onClose(){return _this2.setState({error:false});},elevation:6,variant:\"filled\",severity:\"error\"},error===null||error===void 0?void 0:error.message)))));}}]);return TransactionPage;}(Component);var options=[{title:\"SHELL\"},{title:\"PURCHASE\"}];var mapStateToProps=function mapStateToProps(state){return{data:state.findTransactionsById.data,loading:state.findTransactionsById.loading||state.saveTransactions.loading,error:state.findTransactionsById.error,saveData:state.saveTransactions.data,saveError:state.saveTransactions.error};};var mapDispatchToProps={findById:findById,saveTransactions:saveTransactions};export default withStyles(styles,{withTheme:true})(connect(mapStateToProps,mapDispatchToProps)(TransactionPage));","map":{"version":3,"sources":["/home/aditya/Documents/github/bootcamp/ReactJS/web-client/src/scenes/transaction/detail/TransactionPage.js"],"names":["React","Component","Header","TextField","withStyles","CircularProgress","findById","saveTransactions","connect","Container","styles","Snackbar","Alert","Autocomplete","TransactionPage","props","onBack","event","preventDefault","history","push","onChange","target","name","value","form","state","setState","onSubmit","console","log","match","id","params","amount","description","type","error","prevProps","prevState","saveData","data","saveError","goBack","classes","loading","errorData","formField","readOnly","options","option","title","buttonContainer","message","mapStateToProps","findTransactionsById","mapDispatchToProps","withTheme"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Header from \"../../../component/header\";\nimport { TextField, withStyles, CircularProgress } from \"@material-ui/core\";\nimport { findById, saveTransactions } from \"../../../action/transactions\";\nimport { connect } from \"react-redux\";\nimport { Container } from \"semantic-ui-react\";\nimport styles from \"./styles\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\n\nexport class TransactionPage extends Component {\n  constructor(props) {\n    super(props);\n    const { match } = this.props;\n    this.state = {\n      form: {\n        id: match.params.id,\n        amount: \"\",\n        description: \"\",\n        type: \"\"\n      },\n      error: false\n    };\n  }\n\n  onBack = event => {\n    event.preventDefault();\n    const { history } = this.props;\n    history.push(\"/transactions\");\n  };\n\n  componentDidMount() {\n    const { form } = this.state;\n    if (form.id) {\n      this.props.findById(form.id);\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { saveData, data, error, saveError, history } = this.props;\n\n    if (prevProps.data != data) {\n      this.setState({ form: data });\n    } else if (prevProps.saveError !== saveError) {\n      this.setState({ error: saveError });\n    } else if (prevProps.error !== error) {\n      this.setState({ error: error });\n    } else if (saveData && prevProps.saveData !== saveData) {\n      history.goBack();\n    }\n  }\n\n  onChange = event => {\n    const { name, value } = event.target;\n    const { form } = this.state;\n    this.setState({ form: { ...form, [name]: value } });\n  };\n\n  onSubmit = event => {\n    event.preventDefault();\n    this.props.saveTransactions(this.state.form);\n    console.log(this.state);\n  };\n\n  render() {\n    const { classes, loading, saveError } = this.props;\n    const { form, error } = this.state;\n    const errorData = saveError?.data || {};\n    return (\n      <div>\n        <Header>\n          <Container>\n            {!loading ? (\n              <form noValidate autoComplete=\"off\" onSubmit={this.onSubmit}>\n                {form.id && (\n                  <div className={classes.formField}>\n                    <TextField\n                      id=\"id\"\n                      label=\"ID\"\n                      value={form?.id}\n                      name=\"id\"\n                      variant=\"filled\"\n                      inputProps={{ readOnly: true }}\n                    />\n                  </div>\n                )}\n                <div className={classes.formField}>\n                  <TextField\n                    error={errorData.name}\n                    helperText={errorData.name ? errorData.name[0] : null}\n                    id=\"amount\"\n                    label=\"Amount\"\n                    value={form?.amount}\n                    name=\"amount\"\n                    variant=\"filled\"\n                    onChange={this.onChange}\n                    fullWidth\n                  />\n                </div>\n                <div className={classes.formField}>\n                  <TextField\n                    id=\"description\"\n                    label=\"Description\"\n                    value={form?.description}\n                    name=\"description\"\n                    variant=\"filled\"\n                    onChange={this.onChange}\n                    fullWidth\n                  />\n                </div>\n                <div className={classes.formField}>\n                  <Autocomplete\n                    value={form.type}\n                    onChange={this.onChange}\n                    id=\"size-small-standard\"\n                    size=\"small\"\n                    fullWidth\n                    options={options}\n                    getOptionLabel={option => option.title}\n                    renderInput={params => (\n                      <TextField\n                        {...params}\n                        variant=\"standard\"\n                        label={form.type}\n                        placeholder=\"Choice Type\"\n                      />\n                    )}\n                  />\n                </div>\n\n                <div className={classes.buttonContainer}>\n                  <button className=\"ui orange button\" onClick={this.onBack}>\n                    <i class=\"reply all icon\"></i>\n                    Back\n                  </button>\n                  <button className=\"ui orange button\" disabled={loading}>\n                    <i className=\"save icon\"></i>\n                    Save\n                  </button>\n                </div>\n              </form>\n            ) : (\n              <CircularProgress />\n            )}\n            <Snackbar\n              open={this.state.error}\n              autoHideDuration={3000}\n              onClose={() => this.setState({ error: false })}\n            >\n              <Alert\n                onClose={() => this.setState({ error: false })}\n                elevation={6}\n                variant=\"filled\"\n                severity=\"error\"\n              >\n                {error?.message}\n              </Alert>\n            </Snackbar>\n          </Container>\n        </Header>\n      </div>\n    );\n  }\n}\n\nconst options = [{ title: \"SHELL\" }, { title: \"PURCHASE\" }];\nconst mapStateToProps = state => ({\n  data: state.findTransactionsById.data,\n  loading: state.findTransactionsById.loading || state.saveTransactions.loading,\n  error: state.findTransactionsById.error,\n  saveData: state.saveTransactions.data,\n  saveError: state.saveTransactions.error\n});\n\nconst mapDispatchToProps = {\n  findById,\n  saveTransactions\n};\n\nexport default withStyles(styles, { withTheme: true })(\n  connect(mapStateToProps, mapDispatchToProps)(TransactionPage)\n);\n"]},"metadata":{},"sourceType":"module"}