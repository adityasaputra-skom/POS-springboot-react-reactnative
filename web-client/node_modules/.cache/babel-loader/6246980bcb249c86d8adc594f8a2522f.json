{"ast":null,"code":"import { FIND_UNIT_REQUEST, FIND_UNIT_SUCCESS, FIND_UNIT_FAILURE, FIND_UNITS_REQUEST, FIND_UNITS_SUCCESS, FIND_UNITS_FAILURE } from \"./constants\";\nimport axios from \"axios\";\nconst data = [{\n  id: 1,\n  name: \"Gram\"\n}, {\n  id: 2,\n  name: \"Pieces\"\n}, {\n  id: 3,\n  name: \"Kilogram\"\n}, {\n  id: 4,\n  name: \"Liter\"\n}, {\n  id: 5,\n  name: \"Kilobyte\"\n}, {\n  id: 6,\n  name: \"Kilobyte\"\n}, {\n  id: 7,\n  name: \"Kilobyte\"\n}];\n\nfunction sleep(delay) {\n  return new Promise(function (resolve) {\n    setTimeout(resolve, delay);\n  });\n}\n\nexport const findById = id => dispatch => {\n  dispatch({\n    type: FIND_UNIT_REQUEST\n  });\n  sleep(500).then(() => {\n    let result = null;\n\n    for (const e of data) {\n      if (e.id === id) {\n        dispatch({\n          result: e\n        });\n      }\n    }\n\n    if (result) {\n      dispatch({\n        type: FIND_UNIT_SUCCESS,\n        data: result\n      });\n    } else {\n      throw new Error(\"Sorry! Units not found.\");\n    }\n  }).catch(error => {\n    dispatch({\n      type: FIND_UNIT_FAILURE,\n      error: error\n    });\n  });\n};\nexport const findAll = () => dispatch => {\n  dispatch({\n    type: FIND_UNITS_REQUEST\n  });\n  axios.get(\"http://localhost:8080/units\").then(res => res.data).then(resData => {\n    if (resData.code != 0) {\n      throw new Error(resData.message || 'Uknown error.');\n    }\n\n    return resData.data;\n  }).then(() => {\n    dispatch({\n      type: FIND_UNITS_SUCCESS,\n      data: data\n    });\n  });\n};","map":{"version":3,"sources":["/home/aditya/Documents/github/bootcamp/ReactJS/web-client/src/action/units.js"],"names":["FIND_UNIT_REQUEST","FIND_UNIT_SUCCESS","FIND_UNIT_FAILURE","FIND_UNITS_REQUEST","FIND_UNITS_SUCCESS","FIND_UNITS_FAILURE","axios","data","id","name","sleep","delay","Promise","resolve","setTimeout","findById","dispatch","type","then","result","e","Error","catch","error","findAll","get","res","resData","code","message"],"mappings":"AAAA,SACEA,iBADF,EAEEC,iBAFF,EAGEC,iBAHF,EAIEC,kBAJF,EAKEC,kBALF,EAMEC,kBANF,QAOO,aAPP;AAQA,OAAOC,KAAP,MAAkB,OAAlB;AACA,MAAMC,IAAI,GAAG,CACX;AACEC,EAAAA,EAAE,EAAE,CADN;AAEEC,EAAAA,IAAI,EAAE;AAFR,CADW,EAKX;AACED,EAAAA,EAAE,EAAE,CADN;AAEEC,EAAAA,IAAI,EAAE;AAFR,CALW,EASX;AACED,EAAAA,EAAE,EAAE,CADN;AAEEC,EAAAA,IAAI,EAAE;AAFR,CATW,EAaX;AACED,EAAAA,EAAE,EAAE,CADN;AAEEC,EAAAA,IAAI,EAAE;AAFR,CAbW,EAiBX;AACED,EAAAA,EAAE,EAAE,CADN;AAEEC,EAAAA,IAAI,EAAE;AAFR,CAjBW,EAqBX;AACED,EAAAA,EAAE,EAAE,CADN;AAEEC,EAAAA,IAAI,EAAE;AAFR,CArBW,EAyBX;AACED,EAAAA,EAAE,EAAE,CADN;AAEEC,EAAAA,IAAI,EAAE;AAFR,CAzBW,CAAb;;AA+BA,SAASC,KAAT,CAAeC,KAAf,EAAsB;AACpB,SAAO,IAAIC,OAAJ,CAAY,UAASC,OAAT,EAAkB;AACnCC,IAAAA,UAAU,CAACD,OAAD,EAAUF,KAAV,CAAV;AACD,GAFM,CAAP;AAGD;;AAED,OAAO,MAAMI,QAAQ,GAAGP,EAAE,IAAIQ,QAAQ,IAAI;AACxCA,EAAAA,QAAQ,CAAC;AACPC,IAAAA,IAAI,EAAEjB;AADC,GAAD,CAAR;AAGAU,EAAAA,KAAK,CAAC,GAAD,CAAL,CACGQ,IADH,CACQ,MAAM;AACV,QAAIC,MAAM,GAAG,IAAb;;AACA,SAAK,MAAMC,CAAX,IAAgBb,IAAhB,EAAsB;AACpB,UAAIa,CAAC,CAACZ,EAAF,KAASA,EAAb,EAAiB;AACfQ,QAAAA,QAAQ,CAAC;AACPG,UAAAA,MAAM,EAAEC;AADD,SAAD,CAAR;AAGD;AACF;;AACD,QAAID,MAAJ,EAAY;AACVH,MAAAA,QAAQ,CAAC;AACPC,QAAAA,IAAI,EAAEhB,iBADC;AAEPM,QAAAA,IAAI,EAAEY;AAFC,OAAD,CAAR;AAID,KALD,MAKO;AACL,YAAM,IAAIE,KAAJ,CAAU,yBAAV,CAAN;AACD;AACF,GAlBH,EAmBGC,KAnBH,CAmBSC,KAAK,IAAI;AACdP,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAEf,iBADC;AAEPqB,MAAAA,KAAK,EAAEA;AAFA,KAAD,CAAR;AAID,GAxBH;AAyBD,CA7BM;AA+BP,OAAO,MAAMC,OAAO,GAAG,MAAMR,QAAQ,IAAI;AACvCA,EAAAA,QAAQ,CAAC;AAAEC,IAAAA,IAAI,EAAEd;AAAR,GAAD,CAAR;AACAG,EAAAA,KAAK,CACFmB,GADH,CACO,6BADP,EAEGP,IAFH,CAEQQ,GAAG,IAAIA,GAAG,CAACnB,IAFnB,EAGGW,IAHH,CAGQS,OAAO,IAAI;AACf,QAAIA,OAAO,CAACC,IAAR,IAAgB,CAApB,EAAuB;AACrB,YAAM,IAAIP,KAAJ,CAAUM,OAAO,CAACE,OAAR,IAAmB,eAA7B,CAAN;AACD;;AACD,WAAOF,OAAO,CAACpB,IAAf;AACD,GARH,EASGW,IATH,CASQ,MAAM;AACVF,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAEb,kBADC;AAEPG,MAAAA,IAAI,EAAEA;AAFC,KAAD,CAAR;AAID,GAdH;AAeD,CAjBM","sourcesContent":["import {\n  FIND_UNIT_REQUEST,\n  FIND_UNIT_SUCCESS,\n  FIND_UNIT_FAILURE,\n  FIND_UNITS_REQUEST,\n  FIND_UNITS_SUCCESS,\n  FIND_UNITS_FAILURE\n} from \"./constants\";\nimport axios from \"axios\";\nconst data = [\n  {\n    id: 1,\n    name: \"Gram\"\n  },\n  {\n    id: 2,\n    name: \"Pieces\"\n  },\n  {\n    id: 3,\n    name: \"Kilogram\"\n  },\n  {\n    id: 4,\n    name: \"Liter\"\n  },\n  {\n    id: 5,\n    name: \"Kilobyte\"\n  },\n  {\n    id: 6,\n    name: \"Kilobyte\"\n  },\n  {\n    id: 7,\n    name: \"Kilobyte\"\n  }\n];\n\nfunction sleep(delay) {\n  return new Promise(function(resolve) {\n    setTimeout(resolve, delay);\n  });\n}\n\nexport const findById = id => dispatch => {\n  dispatch({\n    type: FIND_UNIT_REQUEST\n  });\n  sleep(500)\n    .then(() => {\n      let result = null;\n      for (const e of data) {\n        if (e.id === id) {\n          dispatch({\n            result: e\n          });\n        }\n      }\n      if (result) {\n        dispatch({\n          type: FIND_UNIT_SUCCESS,\n          data: result\n        });\n      } else {\n        throw new Error(\"Sorry! Units not found.\");\n      }\n    })\n    .catch(error => {\n      dispatch({\n        type: FIND_UNIT_FAILURE,\n        error: error\n      });\n    });\n};\n\nexport const findAll = () => dispatch => {\n  dispatch({ type: FIND_UNITS_REQUEST });\n  axios\n    .get(\"http://localhost:8080/units\")\n    .then(res => res.data)\n    .then(resData => {\n      if (resData.code != 0) {\n        throw new Error(resData.message || 'Uknown error.')\n      }\n      return resData.data;\n    })\n    .then(() => {\n      dispatch({\n        type: FIND_UNITS_SUCCESS,\n        data: data\n      });\n    });\n};\n"]},"metadata":{},"sourceType":"module"}